var x=(i,r)=>()=>(r||i((r={exports:{}}).exports,r),r.exports);var It=x((xi,Bt)=>{"use strict";function j(i,r){this.width=i,this.height=r,this.clear()}j.prototype.clear=function(){this.scanlines=[],this.scanlines.length=this.height,this.nextId=1};j.prototype.add=function(r){var t,e;if(r.y0!=r.y1&&(r.y0<r.y1?(t=Math.floor(r.y0),e=Math.floor(r.y1+.996)):(t=Math.floor(r.y1),e=Math.floor(r.y0+.996)),!(e<0||t>=this.scanlines.length)&&(t<0&&(t=0),e>this.scanlines.length&&(e=this.scanlines.length),t<e)))for(var n=t,s=r.intersection(n);n<e;){var o=r.intersection(n+1),f,a;if(s<o?(f=Math.floor(s),a=Math.floor(o+.9999)-f):(f=Math.floor(o),a=Math.floor(s+.9999)-f),f<0&&(a+=f,f=0,a<0&&(a=0)),f<this.width){var h=this.scanlines[n];h==null&&(this.scanlines[n]=h=[]),h.push({fromX:f,width:a,edge:r})}s=o,n++}};j.prototype.sort=function(){for(var r=0;r<this.scanlines.length;r++){var t=this.scanlines[r];t&&t.sort(function(e,n){return e.fromX<n.fromX?-1:e.fromX>n.fromX?1:0})}};Bt.exports=j});var B=x((vi,kt)=>{"use strict";kt.exports={TRANSPARENT:0,FORCE_TRANSPARENT:1/0,from:$,alpha:G,red:Q,green:tt,blue:rt,parse:At,mix:br,format:function(r){if(r=At(r),isFinite(r))return"#"+("000000"+(r>>>8).toString(16)).slice(-6)+("00"+(r&255).toString(16)).slice(-2)},over:function(r,t){var e=G(r);if(e<1)return t;if(e>254||G(t)<1)return r;var n=e*255,s=G(t)*(255-e),o=n+s,f=Math.floor((n*rt(r)+s*rt(t))/o),a=Math.floor((n*tt(r)+s*tt(t))/o),h=Math.floor((n*Q(r)+s*Q(t))/o),F=Math.floor(o/255);return h<<24|a<<16|f<<8|F}};function br(i,r,t){t<0?t=0:t>1&&(t=1);var e=(i&255)*(1-t)+(r&255)*t;if(e<=.1)return 0;var n=((i>>>24)*(i&255)*(1-t)+(r>>>24)*(r&255)*t)/e,s=((i>>>16&255)*(i&255)*(1-t)+(r>>>16&255)*(r&255)*t)/e,o=((i>>>8&255)*(i&255)*(1-t)+(r>>>8&255)*(r&255)*t)/e;return e>255&&(e=255),n>255&&(n=255),s>255&&(s=255),o>255&&(o=255),n<<24|s<<16|o<<8|e}function $(i,r,t,e){return r<<24|t<<16|e<<8|i}function G(i){return i&255}function Q(i){return i>>>24}function tt(i){return i>>>16&255}function rt(i){return i>>>8&255}var Nt={transparent:0,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};function it(i){var r=i.match(/^\s*(\d*(?:\.\d*)?)(%?)\s*$/);if(r){var t=parseFloat(r[1]);return isNaN(t)?NaN:(t=r[2]?255*t/100:t,t=0|t,t<0&&(t=0),t>255&&(t=255),t)}return NaN}function W(i){var r=i.match(/^\s*(\d*(?:\.\d*)?)%\s*$/);if(r){var t=parseFloat(r[1]);return isNaN(t)?NaN:(t=t/100,t<0?0:t>1?1:t)}return NaN}function nt(i){if(!i)return 255;var r=i.match(/^\s*(\d*(?:\.\d*)?)(%?)\s*$/);if(r){var t=parseFloat(r[1]);return isNaN(t)?NaN:(r[2]&&(t=t/100),t=0|255*t,t<0?0:t>255?255:t)}return NaN}function Dt(i,r,t){if(t<=.5)var e=t*(r+1);else var e=t+r-t*r;var n=t*2-e,s=et(n,e,i+2),o=et(n,e,i),f=et(n,e,i-2);return[s,o,f]}function et(i,r,t){return t<0&&(t+=6),t>=6&&(t-=6),t<1?(r-i)*t+i:t<3?r:t<4?(r-i)*(4-t)+i:i}function wr(i,r,t){for(var e=Dt(i,1,.5),n=0;n<3;n++)e[n]*=1-r-t,e[n]+=r;return e}function Er(i,r,t,e){if(isFinite(i=St(i))&&isFinite(r=W(r))&&isFinite(t=W(t))&&isFinite(e=nt(e))){var n=Dt(i,r,t);return $(e,n[0]*255&255,n[1]*255&255,n[2]*255&255)}}function Pr(i,r,t,e){if(isFinite(i=it(i))&&isFinite(r=it(r))&&isFinite(t=it(t))&&isFinite(e=nt(e)))return $(e,i,r,t)}function St(i){var r=i.match(/^\s*(\d*(?:\.\d*)?)(deg|grad|rad|turn|)\s*$/);if(r){var t=parseFloat(r[1]);if(isNaN(t))return NaN;switch(r[2]){case"grad":t=6*t/400;break;case"rad":t=3*t/Math.PI;break;case"turn":t=t*6;break;default:t=t/60;break}return t=t%6,t<0&&(t+=6),t}return NaN}function Br(i){var r=i;r.charAt(0)=="#"&&(r=r.substr(1));var t=parseInt(r,16);switch(r.length){case 3:return(t&3840)<<20|(t&3840)<<16|(t&240)<<16|(t&240)<<12|(t&15)<<12|(t&15)<<8|255;case 4:return(t&61440)<<16|(t&61440)<<12|(t&3840)<<12|(t&3840)<<8|(t&240)<<8|(t&240)<<4|(t&15)<<4|t&15;case 6:return t<<8|255;case 8:return t&4294967295}}function Ir(i,r,t,e){if(isFinite(i=St(i))&&isFinite(r=W(r))&&isFinite(t=W(t))&&isFinite(e=nt(e))){r+t>1&&(r=r/(r+t),t=1-r);var n=wr(i,r,t);return $(e,n[0]*255&255,n[1]*255&255,n[2]*255&255)}}function At(i){if(typeof i=="number")return i&4294967295;if(i=""+i,/^#?[0-9a-f]{3,8}$/i.test(i))return Br(i);if(i=i.toLowerCase(),i in Nt)return Nt[i]&4294967295;var r=i.match(/^rgba?\(([^,]+),([^,]+),([^,]+)(?:,([^,]+))?\)$/);if(r)return Pr(r[1],r[2],r[3],r[4]);var t=i.match(/^hsla?\(([^,]+),([^,]+),([^,]+)(?:,([^,]+))?\)$/);if(t)return Er(t[1],t[2],t[3],t[4]);var e=i.match(/^hwb\(([^,]+),([^,]+),([^,]+)(?:,([^,]+))?\)$/);if(e)return Ir(e[1],e[2],e[3],e[4]);throw new Error("Invalid color "+i)}});var Tt=x((gi,Mt)=>{"use strict";var Nr=B();function st(i,r,t){this.backColor=i,this.canvas=[]}st.prototype.write=function(r,t){t>0&&(this.canvas.push(t),this.canvas.push(Nr.over(r,this.backColor)))};st.prototype.skip=function(r){r>0&&(this.canvas.push(r),this.canvas.push(this.backColor))};Mt.exports=st});var Rt=x((yi,Ut)=>{"use strict";var M=B();function U(){this._layers=[]}U.prototype.color=M.TRANSPARENT;U.prototype.clear=function(){this._layers=[],this.color=M.TRANSPARENT};U.prototype.copyTo=function(r){r.color=this.color,r._layers=[];for(var t=0;t<this._layers.length;t++){var e=this._layers[t];r._layers[t]={color:e.color,inPath:e.inPath,polygonId:e.polygonId,winding:e.winding}}};U.prototype.add=function(r){for(var t=r.y0<r.y1?1:-1,e=!1,n=this._layers.length-1;n>=0;n--)if(this._layers[n].polygonId==r.polygonId){this._layers[n].winding+=t,this._layers[n].inPath()||this._layers.splice(n,1),e=!0;break}else if(this._layers[n].polygonId<r.polygonId){this._layers.splice(n+1,0,{polygonId:r.polygonId,color:r.color,winding:t,inPath:r.windingRule=="evenodd"?Ot:Lt}),e=!0;break}e||this._layers.splice(0,0,{polygonId:r.polygonId,color:r.color,winding:t,inPath:r.windingRule=="evenodd"?Ot:Lt});for(var s=M.TRANSPARENT,n=this._layers.length-1;n>=0&&M.alpha(s)<255;n--){var o=this._layers[n].color;if(o===M.FORCE_TRANSPARENT)break;s=M.over(s,o)}this.color=s};Ut.exports=U;function Ot(){return this.winding%2==1}function Lt(){return this.winding!=0}});var Ht=x((mi,qt)=>{"use strict";var T=B(),ot=0,at=1,ft=2,ht=3,ut=4;function D(i,r){this._samples=new Uint16Array(i*5),this._samplesPerPixel=r,this._pixelOffset=0,this._subPixelOffset=0}D.prototype._add=function(r,t,e,n,s){this._samples[this._pixelOffset*5+ot]+=r,t>0&&(this._samples[this._pixelOffset*5+at]+=0|t*r,this._samples[this._pixelOffset*5+ft]+=0|e*r*t/255,this._samples[this._pixelOffset*5+ht]+=0|n*r*t/255,this._samples[this._pixelOffset*5+ut]+=0|s*r*t/255)};D.prototype.rewind=function(){this._pixelOffset=0,this._subPixelOffset=0};D.prototype.clear=function(){this._pixelOffset=0,this._subPixelOffset=0,this._samples.fill(0)};D.prototype.writeTo=function(r,t){for(var e=0;e<t;e++){var n=this._samples[e*5+ot],s=this._samples[e*5+at],o=n&&s?T.from(Math.floor(s/n),Math.floor(this._samples[e*5+ft]*255/s),Math.floor(this._samples[e*5+ht]*255/s),Math.floor(this._samples[e*5+ut]*255/s)):0;r.write(o,1)}};D.prototype.getColorAt=function(r){var t=this._samples[r*5+ot],e=this._samples[r*5+at];return t&&e?T.from(Math.floor(e/t),Math.floor(this._samples[r*5+ft]*255/e),Math.floor(this._samples[r*5+ht]*255/e),Math.floor(this._samples[r*5+ut]*255/e)):0};D.prototype.add=function(r,t){var e=Math.floor(t*this._samplesPerPixel)-this._subPixelOffset-this._pixelOffset*this._samplesPerPixel,n=T.alpha(r),s=T.red(r),o=T.green(r),f=T.blue(r);if(this._subPixelOffset>0){var a=this._samplesPerPixel-this._subPixelOffset;a>e&&(a=e),e-=a,this._add(a,n,s,o,f),this._subPixelOffset+=a,this._subPixelOffset==this._samplesPerPixel&&(this._subPixelOffset=0,this._pixelOffset++)}var h=Math.floor(e/this._samplesPerPixel);if(h>0){for(var F=0;F<h;F++)this._add(this._samplesPerPixel,n,s,o,f),this._pixelOffset++;e-=h*this._samplesPerPixel}e>0&&(this._add(e,n,s,o,f),this._subPixelOffset+=e,this._subPixelOffset==this._samplesPerPixel&&(this._subPixelOffset=0,this._pixelOffset++))};qt.exports=D});var Gt=x((Ci,jt)=>{"use strict";var Ar=Tt(),Dr=Rt(),Sr=Ht(),kr=B(),Mr=10,Z=4,Xt=1/Z;jt.exports=Tr;function Tr(i,r){i.sort();for(var t=new Ar(r,i.width,i.height),e=new Sr(i.width+1,Mr),n=[],s=0,o=0,f=0;f<Z;f++)n[f]=new Dr;for(var a=0;a<i.height;a++){var h=i.scanlines[a];if(!h||!h.length){t.skip(i.width);continue}for(var f=0;f<o;f++)n[f].clear();o=1;var F=Lr(h,i.width);t.skip(F[0].fromX);for(var c=0;c<F.length;c++){var u=F[c];if(u.edges.length==1&&(u.edges[0].y0<=a&&u.edges[0].y1>=a+1||u.edges[0].y0>=a+1&&u.edges[0].y1<=a)){for(var l=u.edges[0],d=l.intersection(a),P=l.intersection(a+1),p=Math.min(d,P),v=Math.max(d,P),A=v-p,y=0;y<o;y++){var C=n[y];e.add(C.color,1),C.add(l),e.add(C.color,2),e.rewind()}var X=e.getColorAt(0);s=e.getColorAt(1),e.clear();for(var w=u.fromX;w<u.toXExcl;w++){if(p>=w+1){t.write(X,1);continue}if(v<=w){t.write(s,1);continue}var N=v<w+1?w+1-v:0;if(A>.001){var J=Math.max(p,w),K=Math.min(v,w+1);N+=((K*K-J*J)/2+p*(J-K))/A}t.write(kr.mix(X,s,N),1)}}else{for(var wt=a+Xt/2;o<Z;)n[0].copyTo(n[o]),o++;for(var y=0;y<Z;y++,wt+=Xt){var C=n[y];s=C.color;for(var Et=Or(u.edges,wt),f=0;f<Et.length;f++){var Pt=Et[f];e.add(s,Pt.x-u.fromX),C.add(Pt.edge),s=C.color}e.add(s,u.width+1),e.rewind()}s=e.getColorAt(u.width),e.writeTo(t,u.width),e.clear()}if(c+1<F.length){var Cr=F[c+1].fromX;t.write(s,Cr-u.toXExcl)}else t.write(s,i.width-u.toXExcl)}}return t.canvas}function Or(i,r){for(var t=[],e=0;e<i.length;e++){var n=i[e];if(n.y0<r&&n.y1>=r||n.y0>=r&&n.y1<r){var s=n.x0+(n.x1-n.x0)*(r-n.y0)/(n.y1-n.y0);t.push({edge:n,x:s})}}return t.sort(function(o,f){return o.x-f.x}),t}function Lr(i,r){for(var t=[],e=0,n=0;e<i.length;){var s={fromX:i[e].fromX,toXExcl:i[e].fromX+i[e].width,edges:[i[e].edge]};if(s.fromX>=r)break;t.push(s),e++;for(var o=e;o<i.length&&i[o].fromX<s.toXExcl;o++)s.toXExcl=Math.max(s.toXExcl,i[o].fromX+i[o].width),s.edges.push(i[o].edge),e++;s.toXExcl=Math.min(s.toXExcl,r),s.width=s.toXExcl-s.fromX}return t}});var $t=x((bi,Wt)=>{"use strict";var Ur=B();function R(i){for(var r={},t=[],e=!1,n=0;n+1<i.length&&t.length<=256;n+=2){var s=i[n+0],o=i[n+1];s&&(o in r||(!e&&Ur.alpha(o)<255&&(e=!0),r[o]=t.length,t.push(o)))}this.hasAlphaChannel=e,this.colors=t,this.lookup=r,this.isValid=t.length<=256}R.prototype.isValid=!1;R.prototype.hasAlphaChannel=!1;R.prototype.colors=[];R.prototype.lookup={};Wt.exports=R});var Yt=x((wi,Zt)=>{"use strict";var Rr=qr();function Ft(){}Ft.prototype.value=0;Ft.prototype.update=function(r,t,e){var n=this.value^4294967295;typeof t!="number"&&(t=0),typeof e!="number"&&(e=r.length);for(var s=t;s<e;s++)n=Rr[(n^r[s])&255]^n>>>8;this.value=n^4294967295};Zt.exports=Ft;function qr(){for(var i=[],r=0;r<256;r++){for(var t=r,e=0;e<8;e++)(t&1)==1?t=3988292384^t>>>1:t=t>>>1;i[r]=t}return i}});var Jt=x((Ei,Vt)=>{"use strict";var Hr=Yt();function zt(){this._buffer=Buffer.alloc(1024)}zt.prototype={_buffer:null,_position:0,_ensureCapacity:function(r){var t=this._position+r;if(this._buffer.length<t){var e=this._buffer.length+t,n=this._buffer;this._buffer=Buffer.alloc(e),n.copy(this._buffer)}},writeBuffer:function(r,t,e){typeof t>"u"&&(t=0),typeof e>"u"&&(e=r.length),this._ensureCapacity(e-t),r.copy(this._buffer,this._position,t,e),this._position+=e-t},writeString:function(r){let t=Buffer.from(r,"latin1");this.writeBuffer(t)},writeInt32BE:function(r){this._ensureCapacity(4),this._buffer.writeInt32BE(r,this._position),this._position+=4},writeUInt32BE:function(r){this._ensureCapacity(4),this._buffer.writeUInt32BE(r,this._position,!0),this._position+=4},writeInt8:function(r){this._ensureCapacity(1),this._buffer.writeInt8(r,this._position++)},writeUInt8:function(r){this._ensureCapacity(1),this._buffer.writeUInt8(r,this._position++)},startChunk:function(r){this._chunkStart=this._position,this._ensureCapacity(12),this._position+=4,this._buffer.write(r,this._position,4,"ascii"),this._position+=4},endChunk:function(){var r=new Hr;r.update(this._buffer,this._chunkStart+4,this._position);var t=this._position-(this._chunkStart+8);this._buffer.writeInt32BE(t,this._chunkStart),this.writeInt32BE(r.value)},getBuffer:function(){return this._buffer.slice(0,this._position)}};Vt.exports=zt});var tr=x((Pi,Qt)=>{"use strict";var Kt=require("zlib"),Xr=Jt(),Y=B(),jr=Buffer.from([137,80,78,71,13,10,26,10]);function g(){this._buffer=new Xr,this._buffer.writeBuffer(jr)}g.prototype.writeImageHeader=function(r,t,e){this._buffer.startChunk("IHDR"),this._buffer.writeUInt32BE(r),this._buffer.writeUInt32BE(t),this._buffer.writeUInt8(8),this._buffer.writeUInt8(e),this._buffer.writeUInt8(0),this._buffer.writeUInt8(0),this._buffer.writeUInt8(0),this._buffer.endChunk()};g.prototype.writeImageGamma=function(r){this._buffer.startChunk("gAMA"),this._buffer.writeUInt32BE(r||45455),this._buffer.endChunk()};g.prototype.writeTrueColorWithAlpha=function(r,t,e){this._buffer.startChunk("IDAT");for(var n=Buffer.alloc(t*e*4+e),s=0,o=0,f=0;f<e;f++){n.writeUInt8(0),s++;for(var a=0;a<t;o++){for(var h=r[o*2+0],F=r[o*2+1]&4294967295,c=0;c<h;c++)n.writeInt32BE(F,s),s+=4;a+=h}}var u=Kt.deflateSync(n);this._buffer.writeBuffer(u),this._buffer.endChunk()};g.prototype.writeIndexed=function(r,t,e,n){this._buffer.startChunk("IDAT");for(var s=Buffer.alloc(e*n+n),o=0,f=0,a=0;a<n;a++){s.writeUInt8(0),o++;for(var h=0;h<e;f++){for(var F=r[f*2+0],c=r[f*2+1],u=t.lookup[c],l=0;l<F;l++)s.writeUInt8(u,o),o++;h+=F}}var d=Kt.deflateSync(s);this._buffer.writeBuffer(d),this._buffer.endChunk()};g.prototype.writePalette=function(r){if(r&&r.isValid){this._buffer.startChunk("PLTE");for(var t=0;t<r.colors.length;t++)this._buffer.writeUInt8(Y.red(r.colors[t])),this._buffer.writeUInt8(Y.green(r.colors[t])),this._buffer.writeUInt8(Y.blue(r.colors[t]));this._buffer.endChunk()}};g.prototype.writeTransparency=function(r){if(r&&r.isValid&&r.hasAlphaChannel){this._buffer.startChunk("tRNS");for(var t=0;t<r.colors.length;t++)this._buffer.writeUInt8(Y.alpha(r.colors[t]));this._buffer.endChunk()}};g.prototype.writeTextualData=function(r,t){this._buffer.startChunk("tEXt"),this._buffer.writeString(r),this._buffer.writeUInt8(0),this._buffer.writeString(t),this._buffer.endChunk()};g.prototype.writeImageEnd=function(){this._buffer.startChunk("IEND"),this._buffer.endChunk()};g.prototype.getBuffer=function(){return this._buffer.getBuffer()};g.GRAYSCALE=0;g.TRUE_COLOR=2;g.INDEXED_COLOR=3;g.GRAYSCALE_WITH_ALPHA=4;g.TRUE_COLOR_WITH_ALPHA=6;Qt.exports=g});var er=x((Bi,ir)=>{"use strict";function rr(i,r,t,e,n,s,o){this.polygonId=i,this.x0=r,this.x1=e,this.y0=t,this.y1=n,this.color=s,this.windingRule=o}rr.prototype.intersection=function(r){var t=(this.x1-this.x0)*(this.y0-r)/(this.y0-this.y1);return this.x0+t};ir.exports=rr});var sr=x((Ii,nr)=>{"use strict";function E(i,r,t,e,n,s){this._a=i,this._b=r,this._c=t,this._d=e,this._e=n,this._f=s}E.prototype.hasSkewing=function(){return this._b||this._c};E.prototype.hasTranslation=function(){return this._e||this._f};E.prototype.hasScaling=function(){return this._a!==1||this._d!==1};E.prototype.multiply=function(r,t,e,n,s,o){return new E(this._a*r+this._c*t,this._b*r+this._d*t,this._a*e+this._c*n,this._b*e+this._d*n,this._a*s+this._c*o+this._e,this._b*s+this._d*o+this._f)};E.prototype.multiplyPoint=function(r,t){return{x:this._a*r+this._c*t+this._e,y:this._b*r+this._d*t+this._f}};E.prototype.rotate=function(r){var t=Math.sin(r),e=Math.cos(r);return this.multiply(e,t,-t,e,0,0)};E.prototype.translate=function(r,t){return this.multiply(1,0,0,1,r,t)};E.prototype.scale=function(r,t){return this.multiply(r,0,0,t,0,0)};nr.exports=E});var ar=x((Ni,or)=>{"use strict";function Gr(i){return{fillStyle:i.fillStyle,transform:i._transform}}function Wr(i,r){i.fillStyle=r.fillStyle,i._transform=r.transform}or.exports={capture:Gr,restore:Wr}});var Fr=x((Ai,ur)=>{"use strict";var ct=er(),lt=B(),fr=sr(),hr=ar();function _(i){this.canvas=i,this._edges=i._edges,this.beginPath(),this._savedStates=[],this.resetTransform()}_.prototype.fillStyle=255;_.prototype.save=function(){this._savedStates.push(hr.capture(this))};_.prototype.restore=function(){this._savedStates.length&&hr.restore(this,this._savedStates.pop())};_.prototype.resetTransform=function(){this._transform=new fr(1,0,0,1,0,0)};_.prototype.transform=function(r,t,e,n,s,o){!Number.isFinite(r)||!Number.isFinite(t)||!Number.isFinite(e)||!Number.isFinite(n)||!Number.isFinite(s)||!Number.isFinite(o)||(this._transform=this._transform.multiply(r,t,e,n,s,o))};_.prototype.setTransform=function(r,t,e,n,s,o){!Number.isFinite(r)||!Number.isFinite(t)||!Number.isFinite(e)||!Number.isFinite(n)||!Number.isFinite(s)||!Number.isFinite(o)||(this._transform=new fr(r,t,e,n,s,o))};_.prototype.translate=function(r,t){!Number.isFinite(r)||!Number.isFinite(t)||(this._transform=this._transform.translate(r,t))};_.prototype.scale=function(r,t){!Number.isFinite(r)||!Number.isFinite(t)||(this._transform=this._transform.scale(r,t))};_.prototype.rotate=function(r){Number.isFinite(r)&&(this._transform=this._transform.rotate(r))};_.prototype.beginPath=function(){this._paths=[]};_.prototype.closePath=function(){if(this._paths.length){var r=this._paths[this._paths.length-1];r.length>2&&((r[0]!=r[r.length-2]||r[1]!=r[r.length-1])&&(r.push(r[0]),r.push(r[1])),this._paths.push([r[0],r[1]]))}};_.prototype.moveTo=function(r,t){if(!(!Number.isFinite(r)||!Number.isFinite(t))){var e=this._transform.multiplyPoint(r,t);this._paths.push([e.x,e.y])}};_.prototype.lineTo=function(r,t){if(!(!Number.isFinite(r)||!Number.isFinite(t))){this._paths.length||this._paths.push([]);var e=this._transform.multiplyPoint(r,t),n=this._paths[this._paths.length-1];n.push(e.x),n.push(e.y)}};_.prototype.arc=function(r,t,e,n,s,o){if(!Number.isFinite(r)||!Number.isFinite(t)||!Number.isFinite(e)||!Number.isFinite(n)||!Number.isFinite(s))return;let f=3;var a=Math.floor(Math.PI*e*2/f);a<9&&(a=9);var h=Math.PI*2/a;if(n!==s){o?(h=-h,n-s>=Math.PI*2?s=n-Math.PI*2:s+=Math.PI*2*Math.ceil((n-s)/(Math.PI*2)-1)):s-n>=Math.PI*2?s=n+Math.PI*2:s-=Math.PI*2*Math.ceil((s-n)/(Math.PI*2)-1);var F,c;a=(s-n)/h;for(var u=n,l=0;l<a;l++)F=Math.cos(u)*e,c=Math.sin(u)*e,this.lineTo(r+F,t+c),u+=h;F=Math.cos(s)*e,c=Math.sin(s)*e,this.lineTo(r+F,t+c)}};_.prototype.clearRect=function(r,t,e,n){var s=!1;if(!this._transform.hasSkewing()){var o=this._transform.multiplyPoint(r,t);if(o.x<=0&&o.y<=0){var f=this._transform.multiplyPoint(r+e,t+n);f.x>=this.canvas.width&&f.y>=this.canvas.height&&(s=!0)}}s?this._edges.clear():this._fillRect(lt.FORCE_TRANSPARENT,r,t,e,n)};_.prototype.fillRect=function(r,t,e,n){var s=lt.parse(this.fillStyle);this._fillRect(s,r,t,e,n)};_.prototype._fillRect=function(r,t,e,n,s){if(!(!Number.isFinite(t)||!Number.isFinite(e)||!Number.isFinite(n)||!Number.isFinite(s)||!n||!s))for(var o=this._edges.nextId++,f=[this._transform.multiplyPoint(t,e),this._transform.multiplyPoint(t+n,e),this._transform.multiplyPoint(t+n,e+s),this._transform.multiplyPoint(t,e+s),this._transform.multiplyPoint(t,e)],a=1;a<f.length;a++)this._edges.add(new ct(o,f[a-1].x,f[a-1].y,f[a].x,f[a].y,r))};_.prototype.fill=function(r){for(var t=this._edges.nextId++,e=lt.parse(this.fillStyle),n=0;n<this._paths.length;n++){var s=this._paths[n];if(!(s.length<=2)){for(var o=2;o<s.length;o+=2)this._edges.add(new ct(t,s[o-2],s[o-1],s[o],s[o+1],e,r));(s[0]!=s[s.length-2]||s[1]!=s[s.length-1])&&this._edges.add(new ct(t,s[s.length-2],s[s.length-1],s[0],s[1],e,r))}}};ur.exports=_});var lr=x((Di,cr)=>{"use strict";var $r=It(),Zr=Gt(),Yr=$t(),dt=tr(),zr=Fr(),Vr=B();function S(i,r){this.width=i,this.height=r,this._edges=new $r(i,r)}S.prototype.width=0;S.prototype.height=0;S.prototype.backColor=0;S.prototype.getContext=function(){return new zr(this)};S.prototype.toPng=function(r){var t=Vr.parse(this.backColor),e=Zr(this._edges,t),n=new Yr(e),s=new dt;if(s.writeImageHeader(this.width,this.height,n.isValid?dt.INDEXED_COLOR:dt.TRUE_COLOR_WITH_ALPHA),s.writeImageGamma(),r)for(var o in r)r.hasOwnProperty(o)&&s.writeTextualData(o,r[o]);return n&&n.isValid?(s.writePalette(n),s.writeTransparency(n),s.writeIndexed(e,n,this.width,this.height)):s.writeTrueColorWithAlpha(e,this.width,this.height),s.writeImageEnd(),s.getBuffer()};S.prototype.toDataURL=function(){if(this.width<=0||this.height<=0)return"data:,";var r=this.toPng();return"data:image/png;base64,"+r.toString("base64")};cr.exports=S});var _r=x((Si,dr)=>{var Jr=lr();dr.exports={createCanvas:function(i,r){return new Jr(i,r)}}});var yr=x((ki,gr)=>{"use strict";var Kr=_r();function Qr(i){return i&&typeof i=="object"&&"default"in i?i:{default:i}}var ti=Qr(Kr);function I(i,r,t){return parseInt(i.substr(r,t),16)}function vr(i){return i|=0,i<0?"00":i<16?"0"+i.toString(16):i<256?i.toString(16):"ff"}function _t(i,r,t){return t=t<0?t+6:t>6?t-6:t,vr(255*(t<1?i+(r-i)*t:t<3?r:t<4?i+(r-i)*(4-t):i))}function ri(i){if(/^#[0-9a-f]{3,8}$/i.test(i)){let r,t=i.length;if(t<6){let e=i[1],n=i[2],s=i[3],o=i[4]||"";r="#"+e+e+n+n+s+s+o+o}return(t==7||t>8)&&(r=i),r}}function pr(i){let r=I(i,7,2),t;if(isNaN(r))t=i;else{let e=I(i,1,2),n=I(i,3,2),s=I(i,5,2);t="rgba("+e+","+n+","+s+","+(r/255).toFixed(2)+")"}return t}function ii(i,r,t){let e;if(r==0){let n=vr(t*255);e=n+n+n}else{let n=t<=.5?t*(r+1):t+r-t*r,s=t*2-n;e=_t(s,n,i*6+2)+_t(s,n,i*6)+_t(s,n,i*6-2)}return"#"+e}function q(i,r,t){let e=[.55,.5,.5,.46,.6,.55,.55],n=e[i*6+.5|0];return t=t<.5?t*n*2:n+(t-.5)*(1-n)*2,ii(i,r,t)}var ei=typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:{},k={GLOBAL:"jdenticon_config",MODULE:"config"},H={};function ni(i){Object.defineProperty(i,k.MODULE,{configurable:!0,get:()=>H[k.MODULE],set:r=>{H[k.MODULE]=r,console.warn("jdenticon.config is deprecated. Use jdenticon.configure() instead.")}})}function si(i){return arguments.length&&(H[k.MODULE]=i),H[k.MODULE]}function oi(i,r){let t=typeof i=="object"&&i||H[k.MODULE]||ei[k.GLOBAL]||{},e=t.lightness||{},n=t.saturation||{},s="color"in n?n.color:n,o=n.grayscale,f=t.backColor,a=t.padding;function h(c,u){let l=e[c];return l&&l.length>1||(l=u),function(d){return d=l[0]+d*(l[1]-l[0]),d<0?0:d>1?1:d}}function F(c){let u=t.hues,l;return u&&u.length>0&&(l=u[0|.999*c*u.length]),typeof l=="number"?(l/360%1+1)%1:c}return{hue:F,colorSaturation:typeof s=="number"?s:.5,grayscaleSaturation:typeof o=="number"?o:0,colorLightness:h("color",[.4,.8]),grayscaleLightness:h("grayscale",[.3,.9]),backColor:ri(f),iconPadding:typeof i=="number"?i:typeof a=="number"?a:r}}var L=class{constructor(r,t){this.x=r,this.y=t}},z=class{constructor(r,t,e,n){this._x=r,this._y=t,this._size=e,this._rotation=n}transformIconPoint(r,t,e,n){let s=this._x+this._size,o=this._y+this._size,f=this._rotation;return f===1?new L(s-t-(n||0),this._y+r):f===2?new L(s-r-(e||0),o-t-(n||0)):f===3?new L(this._x+t,o-r-(e||0)):new L(this._x+r,this._y+t)}},ai=new z(0,0,0,0),pt=class{constructor(r){this._renderer=r,this.currentTransform=ai}addPolygon(r,t){let e=t?-2:2,n=[];for(let s=t?r.length-2:0;s<r.length&&s>=0;s+=e)n.push(this.currentTransform.transformIconPoint(r[s],r[s+1]));this._renderer.addPolygon(n)}addCircle(r,t,e,n){let s=this.currentTransform.transformIconPoint(r,t,e,e);this._renderer.addCircle(s,e,n)}addRectangle(r,t,e,n,s){this.addPolygon([r,t,r+e,t,r+e,t+n,r,t+n],s)}addTriangle(r,t,e,n,s,o){let f=[r+e,t,r+e,t+n,r,t+n,r,t];f.splice((s||0)%4*2,2),this.addPolygon(f,o)}addRhombus(r,t,e,n,s){this.addPolygon([r+e/2,t,r+e,t+n/2,r+e/2,t+n,r,t+n/2],s)}};function fi(i,r,t,e){i=i%14;let n,s,o,f,a,h;i?i==1?(o=0|t*.5,f=0|t*.8,r.addTriangle(t-o,0,o,f,2)):i==2?(o=0|t/3,r.addRectangle(o,o,t-o,t-o)):i==3?(a=t*.1,h=t<6?1:t<8?2:0|t*.25,a=a>1?0|a:a>.5?1:a,r.addRectangle(h,h,t-a-h,t-a-h)):i==4?(s=0|t*.15,o=0|t*.5,r.addCircle(t-o-s,t-o-s,o)):i==5?(a=t*.1,h=a*4,h>3&&(h=0|h),r.addRectangle(0,0,t,t),r.addPolygon([h,h,t-a,h,h+(t-h-a)/2,t-a],!0)):i==6?r.addPolygon([0,0,t,0,t,t*.7,t*.4,t*.4,t*.7,t,0,t]):i==7?r.addTriangle(t/2,t/2,t/2,t/2,3):i==8?(r.addRectangle(0,0,t,t/2),r.addRectangle(0,t/2,t/2,t/2),r.addTriangle(t/2,t/2,t/2,t/2,1)):i==9?(a=t*.14,h=t<4?1:t<6?2:0|t*.35,a=t<8?a:0|a,r.addRectangle(0,0,t,t),r.addRectangle(h,h,t-h-a,t-h-a,!0)):i==10?(a=t*.12,h=a*3,r.addRectangle(0,0,t,t),r.addCircle(h,h,t-a-h,!0)):i==11?r.addTriangle(t/2,t/2,t/2,t/2,3):i==12?(s=t*.25,r.addRectangle(0,0,t,t),r.addRhombus(s,s,t-s,t-s,!0)):!e&&(s=t*.4,o=t*1.2,r.addCircle(s,s,o)):(n=t*.42,r.addPolygon([0,0,t,0,t,t-n*2,t-n,t,0,t]))}function xr(i,r,t){i=i%4;let e;i?i==1?r.addTriangle(0,t/2,t,t/2,0):i==2?r.addRhombus(0,0,t,t):(e=t/6,r.addCircle(e,e,t-2*e)):r.addTriangle(0,0,t,t,0)}function hi(i,r){return i=r.hue(i),[q(i,r.grayscaleSaturation,r.grayscaleLightness(0)),q(i,r.colorSaturation,r.colorLightness(.5)),q(i,r.grayscaleSaturation,r.grayscaleLightness(1)),q(i,r.colorSaturation,r.colorLightness(1)),q(i,r.colorSaturation,r.colorLightness(0))]}function yt(i,r,t){let e=oi(t,.08);e.backColor&&i.setBackground(e.backColor);let n=i.iconSize,s=.5+n*e.iconPadding|0;n-=s*2;let o=new pt(i),f=0|n/4,a=0|s+n/2-f*2,h=0|s+n/2-f*2;function F(p,v,A,y,C){let X=I(r,A,1),w=y?I(r,y,1):0;i.beginShape(u[l[p]]);for(let N=0;N<C.length;N++)o.currentTransform=new z(a+C[N][0]*f,h+C[N][1]*f,f,w++%4),v(X,o,f,N);i.endShape()}let c=I(r,-7)/268435455,u=hi(c,e),l=[],d;function P(p){if(p.indexOf(d)>=0){for(let v=0;v<p.length;v++)if(l.indexOf(p[v])>=0)return!0}}for(let p=0;p<3;p++)d=I(r,8+p,1)%u.length,(P([0,4])||P([2,3]))&&(d=1),l.push(d);F(0,xr,2,3,[[1,0],[2,0],[2,3],[1,3],[0,1],[3,1],[3,2],[0,2]]),F(1,xr,4,5,[[0,0],[3,0],[3,3],[0,3]]),F(2,fi,1,null,[[1,1],[2,1],[2,2],[1,2]]),i.finish()}function ui(i){var e=0,n=0,s=encodeURI(i)+"%80",o=[],f,a=[],h=1732584193,F=4023233417,c=~h,u=~F,l=3285377520,d=[h,F,c,u,l],P=0,p="";function v(A,y){return A<<y|A>>>32-y}for(;e<s.length;n++)o[n>>2]=o[n>>2]|(s[e]=="%"?parseInt(s.substring(e+1,e+=3),16):s.charCodeAt(e++))<<(3-(n&3))*8;for(f=((n+7>>6)+1)*16,o[f-1]=n*8-8;P<f;P+=16){for(e=0;e<80;e++)n=v(h,5)+l+(e<20?(F&c^~F&u)+1518500249:e<40?(F^c^u)+1859775393:e<60?(F&c^F&u^c&u)+2400959708:(F^c^u)+3395469782)+(a[e]=e<16?o[P+e]|0:v(a[e-3]^a[e-8]^a[e-14]^a[e-16],1)),l=u,u=c,c=v(F,30),F=h,h=n;d[0]=h=d[0]+h|0,d[1]=F=d[1]+F|0,d[2]=c=d[2]+c|0,d[3]=u=d[3]+u|0,d[4]=l=d[4]+l|0}for(e=0;e<40;e++)p+=(d[e>>3]>>>(7-(e&7))*4&15).toString(16);return p}function mt(i){return/^[0-9a-f]{11,}$/i.test(i)&&i}function Ct(i){return ui(i==null?"":""+i)}var V=class{constructor(r,t){let e=r.canvas,n=e.width,s=e.height;r.save(),t||(t=Math.min(n,s),r.translate((n-t)/2|0,(s-t)/2|0)),this._ctx=r,this.iconSize=t,r.clearRect(0,0,t,t)}setBackground(r){let t=this._ctx,e=this.iconSize;t.fillStyle=pr(r),t.fillRect(0,0,e,e)}beginShape(r){let t=this._ctx;t.fillStyle=pr(r),t.beginPath()}endShape(){this._ctx.fill()}addPolygon(r){let t=this._ctx;t.moveTo(r[0].x,r[0].y);for(let e=1;e<r.length;e++)t.lineTo(r[e].x,r[e].y);t.closePath()}addCircle(r,t,e){let n=this._ctx,s=t/2;n.moveTo(r.x+s,r.y+s),n.arc(r.x+s,r.y+s,s,0,Math.PI*2,e),n.closePath()}finish(){this._ctx.restore()}};function Fi(i,r,t,e){if(!i)throw new Error("No canvas specified.");yt(new V(i,t),mt(r)||Ct(r),e)}function ci(i,r,t){let e=ti.default.createCanvas(r,r),n=e.getContext("2d");return yt(new V(n,r),mt(i)||Ct(i),t),e.toPng({Software:"Jdenticon"})}function O(i){return(i*10+.5|0)/10}var xt=class{constructor(){this.dataString=""}addPolygon(r){let t="";for(let e=0;e<r.length;e++)t+=(e?"L":"M")+O(r[e].x)+" "+O(r[e].y);this.dataString+=t+"Z"}addCircle(r,t,e){let n=e?0:1,s=O(t/2),o=O(t),f="a"+s+","+s+" 0 1,"+n+" ";this.dataString+="M"+O(r.x)+" "+O(r.y+t/2)+f+o+",0"+f+-o+",0"}},vt=class{constructor(r){this._path,this._pathsByColor={},this._target=r,this.iconSize=r.iconSize}setBackground(r){let t=/^(#......)(..)?/.exec(r),e=t[2]?I(t[2],0)/255:1;this._target.setBackground(t[1],e)}beginShape(r){this._path=this._pathsByColor[r]||(this._pathsByColor[r]=new xt)}endShape(){}addPolygon(r){this._path.addPolygon(r)}addCircle(r,t,e){this._path.addCircle(r,t,e)}finish(){let r=this._pathsByColor;for(let t in r)r.hasOwnProperty(t)&&this._target.appendPath(t,r[t].dataString)}},li={XMLNS:"http://www.w3.org/2000/svg",WIDTH:"width",HEIGHT:"height"},gt=class{constructor(r){this.iconSize=r,this._s='<svg xmlns="'+li.XMLNS+'" width="'+r+'" height="'+r+'" viewBox="0 0 '+r+" "+r+'">'}setBackground(r,t){t&&(this._s+='<rect width="100%" height="100%" fill="'+r+'" opacity="'+t.toFixed(2)+'"/>')}appendPath(r,t){this._s+='<path fill="'+r+'" d="'+t+'"/>'}toString(){return this._s+"</svg>"}};function di(i,r,t){let e=new gt(r);return yt(new vt(e),mt(i)||Ct(i),t),e.toString()}typeof process>"u"&&typeof window<"u"&&typeof document<"u"&&console.warn("Jdenticon: 'dist/jdenticon-node.js' is only intended for Node.js environments and will increase your bundle size when included in browser bundles. If you want to run Jdenticon in the browser, please add a reference to 'dist/jdenticon.js' or 'dist/jdenticon.min.js' instead.");function b(){throw new Error("jdenticon() is not supported on Node.js.")}ni(b);b.configure=si;b.drawIcon=Fi;b.toPng=ci;b.toSvg=di;b.version="3.2.0";b.bundle="node-cjs";b.update=function(){throw new Error("jdenticon.update() is not supported on Node.js.")};b.updateCanvas=function(){throw new Error("jdenticon.updateCanvas() is not supported on Node.js.")};b.updateSvg=function(){throw new Error("jdenticon.updateSvg() is not supported on Node.js.")};gr.exports=b});var mr=yr(),_i=require("fs"),m={filePath:process.argv[2],fileName:process.argv[3],size:Number(process.argv[4]),value:process.argv[5],config:JSON.parse(process.argv[6]),type:process.argv[7]};m.fullPath=`${m.filePath}/${m.fileName}.${m.type}`;var bt=null;m.type==="svg"?bt=mr.toSvg(m.value,m.size,m.config):bt=mr.toPng(m.value,m.size,m.config);_i.writeFileSync(m.fullPath,bt);console.log(JSON.stringify(m,null,"  "));
